{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["\"use strict\";\n\nconst canvas = document.querySelector('#canvas');\nconst ctx = canvas.getContext('2d');\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\nlet gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);\ngradient.addColorStop(0, '#adf1e0');\ngradient.addColorStop(0.5, '#6ce6c8');\ngradient.addColorStop(1, '#168569');\n\nclass Symbol {\n  constructor(x, y, fontSize, canvasHeight) {\n    // this.characters = '❅❆⛇cybermonday01$%アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン';\n    this.characters = '❅❆⛇$%';\n    this.x = x;\n    this.y = y;\n    this.fontSize = fontSize;\n    this.text = '';\n    this.canvasHeight = canvasHeight;\n  }\n\n  draw(context) {\n    this.text = this.characters.charAt(Math.floor(Math.random() * this.characters.length));\n    context.fillText(this.text, this.x * this.fontSize, this.y * this.fontSize);\n\n    if (this.y * this.fontSize > this.canvasHeight && Math.random() > 0.95) {\n      this.y = 0;\n    } else {\n      this.y += 1;\n    }\n  }\n\n}\n\nclass Effect {\n  constructor(canvasWidth, canvasHeight) {\n    this.canvasWidth = canvasWidth;\n    this.canvasHeight = canvasHeight;\n    this.fontSize = 15;\n    this.columns = this.canvasWidth / this.fontSize;\n    this.symbols = [];\n    console.log(this.symbols);\n    this.#initialize();\n  }\n\n  #initialize() {\n    for (let i = 0; i < this.columns; i++) {\n      this.symbols[i] = new Symbol(i, 0, this.fontSize, this.canvasHeight);\n    }\n  }\n\n  resize(width, height) {\n    this.canvasWidth = width;\n    this.canvasHeight = height;\n    this.columns = this.canvasWidth / this.fontSize;\n    this.symbols = [];\n    this.#initialize();\n  }\n\n}\n\nconst effect = new Effect(canvas.width, canvas.height);\nlet lastTime = 0;\nconst fps = 20;\nconst nextFrame = 1000 / fps;\nlet timer = 0;\n\nfunction animate(timeStamp) {\n  const deltaTime = timeStamp - lastTime;\n  lastTime = timeStamp;\n\n  if (timer > nextFrame) {\n    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';\n    ctx.textAlign = 'center';\n    ctx.fillRect(0, 0, canvas.width, canvas.height); // ctx.fillStyle = '#6ce6c8';\n\n    ctx.fillStyle = gradient;\n    ctx.font = effect.fontSize + 'px monospace';\n    effect.symbols.forEach(symbol => symbol.draw(ctx));\n    timer = 0;\n  } else {\n    timer += deltaTime;\n  }\n\n  requestAnimationFrame(animate);\n}\n\nanimate(0);\nwindow.addEventListener('resize', function () {\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  effect.resize(canvas.width, canvas.height);\n});"],"file":"script.js"}